<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
    <style>
        *{
            margin: 0;
            padding: 0;
        }
        html{
            width: 100%;
            height: 100%;
        }
        body{
            width: 100%;
            height: 100%;
            transform-origin:1000px;
        }
        #content{
            width: 100%;
            height: 100%;
        }
        #main{
            width: 750px;
            height: 500px;
            margin-top: 100px;
            margin-left: 50%;
            -webkit-transform:translate(-50%);
        }
        #fan{
            margin-top: 50px;
            margin-left: 50%;
            -webkit-transform:translate(-50%);
        }
        .small{
            width: 125px;
            height: 125px;
            position: absolute;
        }
        .small span{
            width: 125px;
            height: 125px;
            backface-visibility: hidden;
            position: absolute;

        }
        .small span:nth-child(2){
            width: 125px;
            height: 125px;
            backface-visibility: hidden;
            position: absolute;
            -webkit-transform:rotateY(180deg);
        }
    </style>
</head>
<body>
<div id="content">
    <div id="main"></div>
    <div>
        <button id="fan">翻转</button>
        <button id="boom">爆炸</button>
    </div>
</div>
<script src="../jquery-1.12.4.js"></script>
<script>
    $(function(){
        var sum= 0,z0= 0,z1= 1,x= 0,asd=0;
        var index=0;
        function pao(){
            var qwe;
            x++;
            if(x==24) x=1;
            for(var a=0;a<4;a++){
                for(var b=0;b<6;b++){
//                    $(".small").eq(index).children().eq(z0+1).css("-webkit-transform","rotateY(180deg)");
                    $(".small").eq(index).children().eq(z1).css({
                        "-webkit-transition":"transform 1.5s "+index*0.05+"s ease",
                        "-webkit-transform":"rotateY(0deg)",
                        "background":"url('img/"+(x+1)+".jpg') "+(-b*125)+"px "+(-a*125)+"px",
                        "display":"block",
                        "z-index":z1
                    });
                    $(".small").eq(index).children().eq(z0).css({
                            "background":"url('img/"+x+".jpg') "+(-b*125)+"px "+(-a*125)+"px",
                            "display":"block",
                            "z-index":z0
                    });
                    index++;
                        console.log()
                }
            }
            qwe=z0;
            z0=z1;
            z1=qwe;
            index=0;
        }
        for(var i=0;i<4;i++){
            for(var j=0;j<6;j++){
                asd++;
                var $img=$("<img src='img/"+asd+".jpg'/>");
                var $div = $("<div class='small'><span></span><span></span></div>");
                $div.css({
                    "top":i*125,
                    "left":j*125
                });
                $div.appendTo($("#main"));
                $img.load(function(){
                    sum++;
                    if(sum==24){
                        for(var a=0;a<4;a++){
                            for(var b=0;b<6;b++){
                                $(".small").eq(index).children().eq(0).css({
                                    "background":"url('img/1.jpg') "+(-b*125)+"px "+(-a*125)+"px",
                                    "display":"block"
                                });
                                index++;
                                console.log()
                            }
                        }
                        index=0;
                    }
                })
            }
        }
        $("#fan").on("click",function(){
            pao();
        })
    })
</script>
</body>
</html>