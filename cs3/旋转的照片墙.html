<!DOCTYPE html>
<html>
    <head lang="en">
        <meta charset="UTF-8">
        <title>旋转的照片墙</title>
        <style>
            *{
                margin: 0;
                padding: 0;
            }
            html{
                width: 100%;
                height: 100%;
            }
            body{
                width: 100%;
                height: 100%;
            }
            #container{
                width: 100%;
                height: 100%;
                background: url("img/bg.jpg");
                position: relative;
            }
            #container .img{
                width: 125px;
                height: 125px;
                border: 5px solid white;
                position: absolute;
                cursor: pointer;
                top:-300px;
                left: -300px;
                -webkit-transition: all 1.5s ease-out;
            }
        </style>
    </head>
    <body>
    <div id="container">

    </div>
    <div id="next"></div>
    <div id="prev"></div>
    <script src="../jquery-1.12.4.js"></script>
    <script>
        $(function(){
            var sum=0;
            for(var i=0;i<24;i++){
                var img = new Image;
                img.src='img/'+(i+1)+'.jpg';

                img.onload=function(){
                    sum++;
                    if(sum==48){
                        loadSucess();
                    }
                };
            }
            var $container = $('#container');

            for(var i=0;i<24;i++){
                var img = new Image;
                img.src='img/thumbs/'+(i+1)+'.jpg';
                var $div = $('<div class="img"><span></span></div>').css({
                    'background':'url("img/thumbs/'+(i+1)+'.jpg")'
                });
                $container.append($div);
                img.onload=function(){
                    sum++;
                    if(sum==48){
                        loadSucess();
                    }
                };
            }
            var $div;
            var index=0;
            var colWidth = ($('body').width()-125*6)/7;
            var rowHeight= ($('body').height()-125*4)/5;
            function loadSucess(){
                    for(var i= 0;i<4;i++){
                        for(var j= 0;j<6;j++){
                            var xxx=colWidth+j*(colWidth+125);
                            var yyy=rowHeight+(rowHeight+125)*i;

                            $div = $('.img',$container);
                            $(".img").eq(index).css({

                                'left':xxx,
                                'top':yyy,
                                "-webkit-transform":'rotate(20deg)'
                            });
//                                .attr({
//                            "xx":colWidth+j*(colWidth+125),
//                            "yy":rowHeight+(rowHeight+125)*i
//                        });
                            index++;
                        }
                    }

//                var time=2.4;
//                for(var i=0;i<24;i++){
//                    time-=0.1;
//                    $div.eq(i).css("-webkit-transition","all 1.5s ease-out " +time+"s");
//                }
//                var timer = setInterval(function(){
//                    index--;
//                    $div.eq(index).css({
//                        'left':parseInt($div.eq(index).attr("xx")),
//                        'top':parseInt($div.eq(index).attr("yy"))
//                    });
//                    if(index==0){
//                        clearInterval(timer);
//                    }
//                    console.log($div.eq(index).attr("xx"))
//
//                },100);
            }

        });
    </script>
</body>
</html>